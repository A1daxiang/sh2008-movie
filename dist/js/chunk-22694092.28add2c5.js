(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-22694092"],{"4a02":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"scroll",style:{height:t.height+"px"}},[i("div",[i("van-index-bar",{attrs:{"index-list":t.indexList,"highlight-color":"#ff0000"}},[i("div",[t._l(t.dataList,(function(e){return[i("van-index-anchor",{key:e.index,staticStyle:{background:"#eee"},attrs:{index:e.index}}),t._l(e.data,(function(e,n){return i("van-cell",{key:n,attrs:{title:e.name},on:{click:function(i){return t.chooseCity(e.name)}}})}))]}))],2)])],1)])},o=[],s=(i("96cf"),i("1da1")),c=i("f40f"),r=i("4ec3"),l=i("2b0e"),h=(i("157a"),i("d282")),a=i("a142");function u(t){var e=window.getComputedStyle(t),i="none"===e.display,n=null===t.offsetParent&&"fixed"!==e.position;return i||n}var d=i("1325"),f=i("a8c1"),v=i("3875"),p=i("9884"),g=i("5fbe");function x(){for(var t=[],e="A".charCodeAt(0),i=0;i<26;i++)t.push(String.fromCharCode(e+i));return t}var m=Object(h["a"])("index-bar"),b=m[0],y=m[1],w=b({mixins:[v["a"],Object(p["b"])("vanIndexBar"),Object(g["a"])((function(t){this.scroller||(this.scroller=Object(f["d"])(this.$el)),t(this.scroller,"scroll",this.onScroll)}))],props:{zIndex:[Number,String],highlightColor:String,sticky:{type:Boolean,default:!0},stickyOffsetTop:{type:Number,default:0},indexList:{type:Array,default:x}},data:function(){return{activeAnchorIndex:null}},computed:{sidebarStyle:function(){if(Object(a["c"])(this.zIndex))return{zIndex:this.zIndex+1}},highlightStyle:function(){var t=this.highlightColor;if(t)return{color:t}}},watch:{indexList:function(){this.$nextTick(this.onScroll)}},methods:{onScroll:function(){var t=this;if(!u(this.$el)){var e=Object(f["c"])(this.scroller),i=this.getScrollerRect(),n=this.children.map((function(e){return{height:e.height,top:t.getElementTop(e.$el,i)}})),o=this.getActiveAnchorIndex(e,n);this.activeAnchorIndex=this.indexList[o],this.sticky&&this.children.forEach((function(s,c){if(c===o||c===o-1){var r=s.$el.getBoundingClientRect();s.left=r.left,s.width=r.width}else s.left=null,s.width=null;if(c===o)s.active=!0,s.top=Math.max(t.stickyOffsetTop,n[c].top-e)+i.top;else if(c===o-1){var l=n[o].top-e;s.active=l>0,s.top=l+i.top-s.height}else s.active=!1}))}},getScrollerRect:function(){return this.scroller.getBoundingClientRect?this.scroller.getBoundingClientRect():{top:0,left:0}},getElementTop:function(t,e){var i=this.scroller;if(i===window||i===document.body)return Object(f["a"])(t);var n=t.getBoundingClientRect();return n.top-e.top+Object(f["c"])(i)},getActiveAnchorIndex:function(t,e){for(var i=this.children.length-1;i>=0;i--){var n=i>0?e[i-1].height:0,o=this.sticky?n+this.stickyOffsetTop:0;if(t+o>=e[i].top)return i}return-1},onClick:function(t){this.scrollToElement(t.target)},onTouchMove:function(t){if(this.touchMove(t),"vertical"===this.direction){Object(d["c"])(t);var e=t.touches[0],i=e.clientX,n=e.clientY,o=document.elementFromPoint(i,n);if(o){var s=o.dataset.index;this.touchActiveIndex!==s&&(this.touchActiveIndex=s,this.scrollToElement(o))}}},scrollToElement:function(t){var e=t.dataset.index;if(e){var i=this.children.filter((function(t){return String(t.index)===e}));i[0]&&(i[0].scrollIntoView(),this.sticky&&this.stickyOffsetTop&&Object(f["e"])(Object(f["b"])()-this.stickyOffsetTop),this.$emit("select",i[0].index))}},onTouchEnd:function(){this.active=null}},render:function(){var t=this,e=arguments[0],i=this.indexList.map((function(i){var n=i===t.activeAnchorIndex;return e("span",{class:y("index",{active:n}),style:n?t.highlightStyle:null,attrs:{"data-index":i}},[i])}));return e("div",{class:y()},[e("div",{class:y("sidebar"),style:this.sidebarStyle,on:{click:this.onClick,touchstart:this.touchStart,touchmove:this.onTouchMove,touchend:this.onTouchEnd,touchcancel:this.onTouchEnd}},[i]),this.slots("default")])}}),k=i("b1d2"),O=Object(h["a"])("index-anchor"),I=O[0],S=O[1],C=I({mixins:[Object(p["a"])("vanIndexBar",{indexKey:"childrenIndex"})],props:{index:[Number,String]},data:function(){return{top:0,left:null,width:null,active:!1}},computed:{sticky:function(){return this.active&&this.parent.sticky},anchorStyle:function(){if(this.sticky)return{zIndex:""+this.parent.zIndex,left:this.left?this.left+"px":null,width:this.width?this.width+"px":null,transform:"translate3d(0, "+this.top+"px, 0)",color:this.parent.highlightColor}}},mounted:function(){this.height=this.$el.offsetHeight},methods:{scrollIntoView:function(){this.$el.scrollIntoView()}},render:function(){var t,e=arguments[0],i=this.sticky;return e("div",{style:{height:i?this.height+"px":null}},[e("div",{style:this.anchorStyle,class:[S({sticky:i}),(t={},t[k["a"]]=i,t)]},[this.slots("default")||this.index])])}}),j=i("7744");l["default"].use(w),l["default"].use(C),l["default"].use(j["a"]);var T={data:function(){return{dataList:[],indexList:[],bs:null,height:0}},mounted:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(r["c"])();case 2:i=e.sent,t.dataList=i[0],t.indexList=i[1],t.height=document.documentElement.clientHeight-50;case 6:case"end":return e.stop()}}),e)})))()},created:function(){this.eventBus.$emit("footernav",!1)},beforeDestroy:function(){this.eventBus.$emit("footernav",!0)},methods:{chooseCity:function(t){console.log(t),this.$store.commit("setCity",t),this.$router.go(-1)}},updated:function(){var t=this;this.bs=new c["a"](".scroll",{pullUpLoad:!0,pullDownRefresh:!0,click:!0}),this.bs.on("pullingUp",(function(){t.bs.finishPullUp()})),this.bs.on("pullingDown",(function(){t.bs.finishPullDown()}))}},$=T,A=(i("eff3"),i("2877")),E=Object(A["a"])($,n,o,!1,null,"610b5dd9",null);e["default"]=E.exports},"545a":function(t,e,i){},eff3:function(t,e,i){"use strict";var n=i("545a"),o=i.n(n);o.a}}]);
//# sourceMappingURL=chunk-22694092.28add2c5.js.map