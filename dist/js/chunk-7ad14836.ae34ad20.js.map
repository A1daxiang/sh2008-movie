{"version":3,"sources":["webpack:///./src/components/Loading.vue?db75","webpack:///./src/components/Loading.vue","webpack:///./src/components/FilmList.vue?add0","webpack:///./src/components/FilmList.vue?ce55","webpack:///src/components/FilmList.vue","webpack:///./src/components/FilmList.vue?4c0e","webpack:///./src/components/FilmList.vue","webpack:///./src/views/Film/NowPlaying.vue?a771","webpack:///src/views/Film/NowPlaying.vue","webpack:///./src/views/Film/NowPlaying.vue?917d","webpack:///./src/views/Film/NowPlaying.vue","webpack:///./src/components/Loading.vue?691e"],"names":["render","_vm","this","_h","$createElement","_self","_c","_m","staticRenderFns","staticClass","_v","script","component","style","height","_e","_l","item","index","key","on","$event","goDetail","filmId","attrs","poster","_s","name","filmType","type","grade","_f","actors","nation","runtime","data","loading","bs","pageNum","flag","props","components","Loading","created","list","length","filters","parseActors","value","forEach","element","methods","$router","push","getData","mounted","document","documentElement","clientHeight","updated","pullUpLoad","pullDownRefresh","click"],"mappings":"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","file":"js/chunk-7ad14836.ae34ad20.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box\"},[_c('div',{staticClass:\"out-box\"}),_c('div',{staticClass:\"inner-box\"}),_c('div',{staticClass:\"text-box\"},[_vm._v(\"loading\")])])}]\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./Loading.vue?vue&type=template&id=1aab4081&scoped=true&\"\nvar script = {}\nimport style0 from \"./Loading.vue?vue&type=style&index=0&id=1aab4081&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1aab4081\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilmList.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilmList.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"list scroll\",style:({ height: _vm.height + 'px' })},[(_vm.loading)?_c('Loading'):_vm._e(),_c('div',_vm._l((_vm.data),function(item,index){return _c('div',{key:index,staticClass:\"item\",on:{\"click\":function($event){return _vm.goDetail(item.filmId)}}},[_c('div',{staticClass:\"left\"},[_c('img',{attrs:{\"src\":item.poster}})]),_c('div',{staticClass:\"middle\"},[_c('div',[_vm._v(_vm._s(item.name)),_c('span',{staticClass:\"dnf\"},[_vm._v(_vm._s(item.filmType.name))])]),(_vm.type == 1)?_c('div',[_c('span',[_vm._v(\"观众评分 \")]),_c('span',{staticClass:\"grade\"},[_vm._v(_vm._s(item.grade))])]):_vm._e(),_c('div',[_vm._v(\"主演：\"+_vm._s(_vm._f(\"parseActors\")(item.actors)))]),_c('div',[_vm._v(_vm._s(item.nation)+\" | \"+_vm._s(item.runtime)+\"分钟\")])]),_c('div',{staticClass:\"right\"},[(_vm.type == 1)?_c('span',[_vm._v(\"购票\")]):_c('span',[_vm._v(\"预购\")])])])}),0)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"list scroll\" :style=\"{ height: height + 'px' }\">\r\n    <Loading v-if=\"loading\"></Loading>\r\n    <!-- 展示数据 -->\r\n    <div>\r\n      <div\r\n        class=\"item\"\r\n        v-for=\"(item, index) in data\"\r\n        :key=\"index\"\r\n        @click=\"goDetail(item.filmId)\"\r\n      >\r\n        <div class=\"left\">\r\n          <img :src=\"item.poster\" />\r\n        </div>\r\n        <div class=\"middle\">\r\n          <div>{{ item.name }}<span class=\"dnf\">{{item.filmType.name}}</span></div>\r\n          <div v-if=\"type == 1\">\r\n            <span>观众评分 </span>\r\n            <span class=\"grade\">{{ item.grade }}</span>\r\n          </div>\r\n          <div>主演：{{ item.actors | parseActors }}</div>\r\n          <div>{{ item.nation }} | {{ item.runtime }}分钟</div>\r\n        </div>\r\n        <div class=\"right\">\r\n          <span v-if=\"type == 1\">购票</span>\r\n          <span v-else>预购</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n//loading导入\r\nimport Loading from \"@/components/Loading\";\r\nimport BScroll from \"better-scroll\";\r\n//导入请求方法\r\nimport {nowPlayingListData,comingSoonListData} from \"@/api/api\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      height: 0,\r\n      //bs:用于保存better-scroll的实例结果\r\n      bs: null,\r\n      pageNum: 1,\r\n      flag: true, //控制是否可以继续下滑加载更多\r\n      data: [], //拼接数据\r\n    };\r\n  },\r\n  props: [\"list\", \"type\"],\r\n  components: {\r\n    Loading,\r\n  },\r\n  //判断数据是否获取到,获取到之后停止loading\r\n  created() {\r\n    //当进入页面后需要将父传子的数据list转交给data\r\n    this.data = this.list;\r\n    //判断数据是否获取到,获取到之后去除loading组件\r\n    if (this.data.length > 0) {\r\n      this.loading = false;\r\n    } else {\r\n      this.loading = true;\r\n    }\r\n  },\r\n  //处理演员的数据,将主演的数据从数组形式转化成字符串形式以输出\r\n  filters: {\r\n    //处理演员的数据,将主演的数据从数组形式转化成字符串形式以便输出\r\n    parseActors: function (value) {\r\n      let actors = \"\";\r\n      if (value) {\r\n        value.forEach((element) => {\r\n          actors += element.name + \" \";\r\n        });\r\n      } else {\r\n        actors = \"暂无主演\";\r\n      }\r\n      return actors;\r\n    },\r\n  },\r\n  methods: {\r\n    goDetail: function (filmId) {\r\n      this.$router.push({ name: \"detail\", params: { filmId } });\r\n    },\r\n\r\n    //获取数据的方法\r\n    getData: async function () {\r\n      if (this.flag) {\r\n        this.pageNum++;\r\n        //获取数据\r\n        if (this.type == 1) {\r\n          //正在热映\r\n          var ret = await nowPlayingListData(this.pageNum);\r\n        } else {\r\n          //即将上映\r\n          var ret = await comingSoonListData(this.pageNum);\r\n        }\r\n        //如果当前请求到的数据少于10,说明后面没有数据了,此时将标记设置成false\r\n        if (ret.data.data.films.length < 10) {\r\n          this.flag = false;\r\n        }\r\n        //将数据处理好新增到列表中去\r\n        this.data = this.data.concat(ret.data.data.films);\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    //获取可视高度\r\n    this.height = document.documentElement.clientHeight - 100;\r\n  },\r\n  updated() {\r\n    this.bs = new BScroll(\".scroll\", {\r\n      pullUpLoad: true,\r\n      //激活下滑的事件监听\r\n      pullDownRefresh: true,\r\n      //默认情况下使用bs后,它会禁止浏览器的点击事件\r\n      click: true,\r\n    });\r\n    this.bs.on(\"pullingUp\", () => {\r\n      //获取数据\r\n      this.getData();\r\n      this.bs.finishPullUp();\r\n    });\r\n    this.bs.on(\"pullingDown\", () => {\r\n      //获取数据\r\n      this.getData();\r\n      this.bs.finishPullDown();\r\n    });\r\n  },\r\n  // beforeDestroy() {\r\n  //       // 节约资源\r\n  //       this.bs = null\r\n  // },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.list {\r\n  margin-bottom: 50px;\r\n  .item {\r\n    margin-top: 15px;\r\n    padding-bottom: 15px;\r\n    display: flex;\r\n    color: #797d82;\r\n    font-size: 13px;\r\n    border-bottom: 1px solid #ededed;\r\n\r\n    .left {\r\n      width: 77px;\r\n      height: 100px;\r\n      margin-left: 20px;\r\n      img {\r\n        width: 66px;\r\n        height: 100%;\r\n      }\r\n    }\r\n\r\n    .middle {\r\n      display: flex;\r\n      flex-direction: column;\r\n      justify-content: space-between;\r\n      width: 55%;\r\n      padding: 6px 0;\r\n          .dnf {\r\n                font-size: 9px;\r\n                color: #fff;\r\n                background-color: #d2d6dc;\r\n                height: 14px;\r\n                line-height: 14px;\r\n                padding: 0 2px;\r\n                border-radius: 2px;\r\n                margin-left: 10px;\r\n                display: inline-block;\r\n            }\r\n      div:nth-of-type(1) {\r\n        color: #191a1b;\r\n        font-size: 16px;\r\n      }\r\n      div:nth-of-type(2) {\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n        white-space: nowrap;\r\n      }\r\n      div:nth-of-type(3) {\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n        white-space: nowrap;\r\n      }\r\n      .grade {\r\n        color: #ffb232;\r\n        font-size: 14px;\r\n      }\r\n    }\r\n\r\n    .right {\r\n      width: 12%;\r\n      display: flex;\r\n      align-items: center;\r\n      margin-left: 10px;\r\n\r\n      span {\r\n        border: 1px solid #ff5f16;\r\n        background: white;\r\n        color: #ff5f16;\r\n        border-radius: 2px;\r\n        height: 25px;\r\n        line-height: 25px;\r\n        font-size: 13px;\r\n        width: 50px;\r\n        text-align: center;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.scroll {\r\n  overflow: hidden;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilmList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilmList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FilmList.vue?vue&type=template&id=4824775a&\"\nimport script from \"./FilmList.vue?vue&type=script&lang=js&\"\nexport * from \"./FilmList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FilmList.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('FilmList',{key:'film' + _vm.list.length,attrs:{\"list\":_vm.list,\"type\":_vm.type}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <FilmList :list=\"list\" :type=\"type\" :key=\" 'film' + list.length\"></FilmList>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n//导入正在热映的请求方法\r\nimport {nowPlayingListData} from '@/api/api'\r\nimport FilmList from '@/components/FilmList'\r\nexport default {\r\n    data(){\r\n        return{\r\n            pageNum:1,\r\n            list:[],\r\n            type:1, //当前传递的数据为正在热映的电影数据\r\n        }\r\n    },\r\n    async mounted() {\r\n        let ret = await nowPlayingListData(this.pageNum)\r\n        this.list = ret.data.data.films;\r\n    },\r\n    components:{\r\n        FilmList\r\n    }\r\n}\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NowPlaying.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NowPlaying.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NowPlaying.vue?vue&type=template&id=193efb62&\"\nimport script from \"./NowPlaying.vue?vue&type=script&lang=js&\"\nexport * from \"./NowPlaying.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Loading.vue?vue&type=style&index=0&id=1aab4081&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Loading.vue?vue&type=style&index=0&id=1aab4081&lang=scss&scoped=true&\""],"sourceRoot":""}